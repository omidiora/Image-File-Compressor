(this["webpackJsonpmy-image-app"]=this["webpackJsonpmy-image-app"]||[]).push([[0],{26:function(e,t,a){e.exports=a(37)},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),c=(a(31),a(14)),u=a.n(c),o=a(18),s=a(6),m=a(8),p=a(19),b=a(20),h=a(10),g=a(25),E=a(24),d=(a(33),a(15)),O=a(40),f=a(41),v=a(21),j=a(44),w=a(42),x=a(43),S=a(45),z=function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).compressImage=e.compressImage.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.state={maxSizeMB:1,maxWidthOrHeight:2024,webWorker:{progress:null,inputSize:null,outputSize:null,inputUrl:null,outputUrl:null},mainThread:{progress:null,inputSize:null,outputSize:null,inputUrl:null,outputUrl:null}},e}return Object(b.a)(a,[{key:"handleChange",value:function(e){var t=this;return function(a){t.setState(Object(m.a)({},e,a.currentTarget.value))}}},{key:"onProgress",value:function(e,t){var a=t?"webWorker":"mainThread";this.setState((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(m.a)({},a,Object(s.a)(Object(s.a)({},t[a]),{},{progress:e})))}))}},{key:"compressImage",value:function(){var e=Object(o.a)(u.a.mark((function e(t,a){var n,r,l,i,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],console.log("input",n),e.t0=console,e.next=5,d.a.getExifOrientation(n);case 5:return e.t1=e.sent,e.t0.log.call(e.t0,"ExifOrientation",e.t1),r=a?"webWorker":"mainThread",this.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(m.a)({},r,Object(s.a)(Object(s.a)({},e[r]),{},{inputSize:(n.size/1024/1024).toFixed(2),inputUrl:URL.createObjectURL(n)})))})),l={maxSizeMB:this.state.maxSizeMB,maxWidthOrHeight:this.state.maxWidthOrHeight,useWebWorker:a,onProgress:function(e){return c.onProgress(e,a)}},e.next=12,Object(d.a)(n,l);case 12:i=e.sent,console.log("output",i),this.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(m.a)({},r,Object(s.a)(Object(s.a)({},e[r]),{},{outputSize:(i.size/1024/1024).toFixed(2),outputUrl:URL.createObjectURL(i)})))}));case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.webWorker,n=t.mainThread;t.maxSizeMB,t.maxWidthOrHeight;return r.a.createElement(O.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{md:{span:6,offset:3}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"web-worker"},r.a.createElement("p",{className:"text-center"},r.a.createElement("h1",{className:"mt-4"},"Image File Compressor"),"  "),a.progress&&r.a.createElement("span",null,a.progress," %"),r.a.createElement(j.a,{id:"web-worker",type:"file",accept:"image/*",onChange:function(t){return e.compressImage(t,!0)}},r.a.createElement(j.a.Group,null," ",r.a.createElement(j.a.File,{id:"exampleFormControlFile1",label:"Example file input"})))),r.a.createElement("p",null,a.inputSize&&r.a.createElement("span",null," ",r.a.createElement("b",null,"Source image size:")," ",r.a.createElement(w.a,{variant:"primary"}," ",a.inputSize," mb ")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),a.outputSize&&r.a.createElement("span",null,r.a.createElement("b",null," Output image size: ")," ",r.a.createElement(w.a,{variant:"primary"},a.outputSize," mb")," "))),(n.inputUrl||a.inputUrl)&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"  ",r.a.createElement(x.a,{variant:"primary"},"input preview ")),r.a.createElement("td",null,r.a.createElement(x.a,{variant:"danger"},"output preview ")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(S.a.Img,{variant:"bottom",src:n.inputUrl||a.inputUrl})),r.a.createElement("td",null," ",r.a.createElement(S.a.Img,{variant:"bottom",src:n.outputUrl||a.outputUrl}))))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.b6094bf7.chunk.js.map